import{d as b,c as A,e as u,b as e,t as p,m as h,o as n,p as I,g as x,_ as V,i as d,a as C,q as y,F as z,r as O,s as B,v as P,h as L,k as M,n as N,l as T,x as S,y as F,f as G}from"./index-C4E0_dJV.js";import{m as K,a as Q}from"./server-BLZLexes.js";import{B as Z}from"./core.esm-DWWMfJTk.js";const j="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAkCAYAAACe0YppAAAAAXNSR0IArs4c6QAABBdJREFUWEftl11oHFUUx8+5d2bWoTHuxmpJ3oraJ0VQKVIoVnwRRSwIi4pu2JCZ2YdUMbi04oNDoVgTDPZB3flIAhErLISioCA+qYgVFLQPVdAXBbMirY2Jm52dnbnHvcsmbNMkm/2oIPS+DHv33vObe+ae/zkHocOxsLCwp1qtDiiKogsh9kZRdCWKovLa2tpqPp8v79Yc7nahBAZB8DwAPEVEB3VdH5R7iQiq1eoqAJwnoo80TfOz2WzQzu6uwJ7n7RNCfAoA9yAiQ0RgjIF8SrAQovEkIgEAv9VqtSMTExO/7gRvC56ZmdEHBgZWEZE3jV8BgO8A4GPO+e9xHA8j4hNE9AAAJCUMEcvyt2VZP20Hbwv2ff/ORCLxcxRFEIbhWVVVT42NjV3cbNB13QP1OVtRlGfkWkQ8ahjGh12D5Ubf9w8KIQaTyeQX6XQ63M6YbdvKyMiIPL1SKpUWbduWrt9ytD1xu0vS7f8NcLFY1CuVylC3RjrZp+v6X+l0uoKO49wBAF8CgIqI1ImRTtcSESJiqCjKYXRd92lN0z4Iw20/Xaf2d1yfSCSgVqul5YlvAYBXEfFWGS7XechPe6nu3VPrlwtt2+bXGdowb9t2LAVv861G3/dTKysrlcnJyUo/XsS2bTY8PDyUSqVWWkPxKrDjOPfVZXEREX80TfOxfoA9z3tSCPEuIi6apnls3eZmcD6RSExJDRZCpLLZ7HKvcM/z3lMU5blarQamaW7wrgK7rntcVdXTMgEAwN7R0dHLreDp6ek95XK5att21DpfLBZ5EAQ3ZTKZa9JiXUrPShmN4xgMw+gc3JTNkwBwMZlM5tPptLwkjeG67mkiup8xdtIwDKkJG6NnsOM4rzPGTggh/iaiQ7lcrpEoPM/bL4T4ljE2RERnDMN4qVWI+gGeYozlhRDLRHQkl8v9IMGFQuEuRDyPiBL8dqlUeqE1OfQVzBh7yDCMCzfAN1zdDLXe4thxnI1b/Z9eLtd1pxHxZSKSMvqwaZrfN090gIi+bsbxO0tLS8f6Gk6e571Wl1I7iqJ/OOd3j4+PN+rmubm528Iw/EVV1cEoiqYsyzresXI5jnNC0zSpUNdo9fz8fDIMw1ekWJimea7VeKFQeJQx9ggRvWFZlkz0/ZPMbrNUz8r1vwN7nvc+5/zZHdOi7/svcs7fajZl+zKZzJ/dnnR9n+M451RVPRpFUc00TW3LCsR13UO6rn8VBIHs/D6L41iWLF11G5zzWAixHwDe5JyzOI6/sSzrwe1KH1nqfo6I90oe570VnrJclg2coiiylHrcMIxPtgTLSVnwIaJ092FZfHdba6/3zkEQ/AEAU6VS6UyrsGzpxtnZ2Zvr8GQcx7cLIRTOeceVPhFJ917WNG05m81e2twe/QuLu/dCO0aJ0wAAAABJRU5ErkJggg==",$="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACEAAAAkCAYAAAAHKVPcAAAAAXNSR0IArs4c6QAABNRJREFUWEftmF+IVFUcx3+/c8698y/bTUJRy3ajfw8FZkKCYvQSRIFisC/GxNh4z06tGRRF0cNgkBlEuKg75979k4YRZuVDgb4UJD2EpJC+9NAfV5rZLGNXdpiZe8+fPMOMzLomO+vo0/5eLsP93fP7nMP3/r6/uQjziMOHD9OJiYnFsVjsdkSMK6UmU6nUZDqdLs9jOcB2H9q3b99tjuPsNMb0JZPJFYgI5XJZIeK3xphdnPPv2l2zbQghxBlEfNhxHIiiyBhj/nZdd4mUErTWkdb6yVwu90M7IG1BCCFGGWMZKeU0pZRns9lPbTEhxDIA+JpSulopVeOcJwDAzBVkzhAHDhxYUavVzhpjUoSQgW3btvmtRUZGRhZJKU+6rvtgGIavc84/7DiEEOIpRPzSGFOJomjNwMDAuauLCCE+opS+qpQ6xjl/uuMQvu8/p7U+RAi5aIzp4ZxH14B4AxF3G2NOc85XdxyiUChsRsRDiPhvd3d3b19fX3gdiFOc88cWIIwxCyfRFOb8TkIIkXQcJ1Wr1VzXdWc0Giml/f0MAOwFgEmt9VrXdWcIs1qtasbYdkR82xhzhjG2DgAWXS1OQogGgGomk5ls3qs3q9HR0dVRFO0EAKvopf/T7Wxus7lZqFkdERHRGNPMscVmBSJWjDG/AcBwqVTan8/nJQ4PDy9WSv1ECOlxXdf2fzBmzh13rm/hlTxCCCilQEppTe81z/P2YBAEL8disb2VSuUPrfXjuVzuQtsrt/lAEAR7CCGvSCnPKqU2oBDi41Qq9UK5XN7COa8b0q2IgwcPmkqlMu267v3o+/778Xj8zWq1+o3nec/eCoAgCDYyxo5GUVS8fF1lNXGfUuoXxhiRUp5HxNNaa3IzYKxuAeAOQsj6hu72F4vFHXU1+76fBoDdhJCldlKKxWJgr52OMAzrwrfCBIDPEonEjnQ6feFKJd/3+ymlQ/aulPIlAPinkxCIWDPG7GGM9SilfvQ8b+2MPmF/BEHwPKX0E/sKVSqVu3K53J+dhLBrCSFOua77aBRFJzzP23BdCK31yq1bt56/CRCnHcdZJaVcgFg4ibq8hBDzO4l8Ps+WL1/uAcDvxWLxeD6fv+KOQoj1ALAqkUiMtf4FHBoaWkIpzRhjjnDOf20KfN4QQRC8mEwmh6enp6e01g+0GtzY2JiJx+Nw6dKlPs755y3FRFdXlzc1NTVjuJk3hO/771BK35VS1gCgl3NessUGBwdjXV1dVdsBwzDczjm3A089fN8/yhjbKKUc9zzvnhs+iRaIKgDcO0eIrxhjm24IwhizLJPJTDR29Ral9D0ppYW4m3Neb+f5fJ709vYqa0RhGOY8zys0dxwEwReMsc1RFJ3zPK+n5SR+dhznkTAMT/T398/umIVCYU08Hj/ZmHrGCCFjxhhbJGtFprUOtdZbEPGi1tpQSmOO4xyzEFEUDRJCjmitmfUIAPiAUrpOKfUXIm5SSrmXp8iV1hYopdabRjzPy85q241dn0PEldZBbbINC9VwPbCfA1rdtfFpAG1uM79hgHW3tLn2GRsN2GbeE9ls9vtrQgghHkLEYULIOjtvdjoqlYodHXeVSqXB1ld91tBgv8S4rtttjLmTUtqRiVcphYSQaULI1Pj4+MVWALvR/wCHICmNCYExkgAAAABJRU5ErkJggg==",W="/assets/empty-DTjsid53.png",X="/assets/coin-CwzwCB0n.png",q="/assets/detail-img-CqxYx2pA.png",H=s=>(I("data-v-5a52f043"),s=s(),x(),s),Y={key:0,class:"delete-modal"},ee=H(()=>e("div",{class:"delete-modal__mask"},null,-1)),te={class:"delete-modal__content"},se={class:"title"},ie={class:"action"},ae=b({__name:"confirm-modal",props:{visible:{type:Boolean},title:{},confirmText:{}},emits:["cancel","confirm"],setup(s,{emit:c}){const m=s,i=c,a=A(()=>m.visible),o=()=>{i("confirm",!0),i("cancel")};return(l,r)=>a.value?(n(),u("div",Y,[ee,e("div",te,[e("div",se,p(l.title),1),e("div",ie,[e("div",{onClick:o},p(l.confirmText),1),e("div",{onClick:r[0]||(r[0]=_=>l.$emit("cancel"))},"取消")])])])):h("",!0)}}),k=V(ae,[["__scopeId","data-v-5a52f043"]]),U=s=>(I("data-v-a669f55d"),s=s(),x(),s),oe={key:0,class:"detail-modal"},ne=U(()=>e("div",{class:"detail-modal__mask"},null,-1)),le={class:"detail-modal__content"},ce={class:"detail-modal__content-meta"},de={class:"title primary-text"},re={class:"second-text"},ve=U(()=>e("img",{src:q,alt:""},null,-1)),ue={class:"sub-title primary-text"},me={class:"second-text"},_e={class:"detail-modal__content-action"},pe=b({__name:"message-detail",props:{visible:{type:Boolean},detailData:{}},emits:["confirmDelete","confirm"],setup(s,{emit:c}){const m=s,i=c,a=d(!1),o=A(()=>m.visible),l=()=>{i("confirm",m.detailData)},r=()=>{i("confirmDelete",m.detailData)};return(_,f)=>o.value?(n(),u("div",oe,[ne,e("div",le,[e("div",ce,[e("div",de,p(_.detailData.title),1),e("div",re,p(_.detailData.description),1),ve,e("div",ue,p(_.detailData.subTitle),1),e("div",me,p(_.detailData.subDescription),1)]),e("div",_e,[e("div",{onClick:f[0]||(f[0]=D=>a.value=!0)},"删除"),e("div",{onClick:l},"确定")])]),a.value?(n(),C(k,{key:0,visible:a.value,title:"是否确认要删除已读通知",confirmText:"确认删除",onCancel:f[1]||(f[1]=D=>a.value=!1),onConfirm:r},null,8,["visible"])):h("",!0)])):h("",!0)}}),fe=V(pe,[["__scopeId","data-v-a669f55d"]]),w=s=>(I("data-v-2c3315c5"),s=s(),x(),s),ge={class:"list-content"},he=["onClick"],Ae={class:"list-content__item-img"},De=["src"],Re={key:0,class:"reading-status"},Ce={class:"list-content__item-text"},be={class:"row"},Ie=["title"],xe={class:"time"},Ve=["title"],ke=w(()=>e("div",{class:"list-content__no-everymore"},"没有更多了",-1)),we={key:1,class:"list-content__empty"},Ee=w(()=>e("img",{src:W,width:"160",height:"160",alt:"暂无数据"},null,-1)),ye=w(()=>e("div",null,"暂无消息",-1)),ze=[Ee,ye],Se={key:2,class:"list-content__add-coin-tip"},Be=L('<img src="'+X+'" width="41" height="41" alt="金币" data-v-2c3315c5><div class="text" data-v-2c3315c5><div data-v-2c3315c5><div class="text-main" data-v-2c3315c5>恭喜获得20个租币！</div><div class="text-sub" data-v-2c3315c5>阅读消息</div></div><div class="text-number" data-v-2c3315c5>+20</div></div>',2),Pe=[Be],Ue=b({__name:"list-content",props:{messageListData:{},messageType:{},isDeleteRead:{type:Boolean},isAllRead:{type:Boolean}},setup(s){const c=s,m=A(()=>c.messageListData),i=d(m),a=d({id:"",title:"",description:"",messageTime:""}),o=d(!1),l=d(!1),r=A(()=>c.messageType==="announcement"?"/src/page/message/img/notic.png":"/src/page/message/img/order.png");y(()=>c.isDeleteRead,()=>{i.value.forEach(t=>{t.isRead&&(t.isDelete=!0)})}),y(()=>c.isAllRead,()=>{i.value.forEach(t=>{t.isRead=!0})});const _=A(()=>!!(i.value.length<1&&i.value.every(t=>t.isDelete===!0))),f=t=>{o.value=!0,a.value=t},D=t=>{i.value.find(v=>{v.id===t.id&&(v.isRead=!0)}),o.value=!1,l.value=!0,setTimeout(()=>{l.value=!1},3e3)},E=t=>{i.value.find(v=>{v.id===t.id&&(v.isDelete=!0)}),o.value=!1};return(t,v)=>(n(),u("div",ge,[_.value?(n(),u("div",we,ze)):(n(),u(z,{key:0},[(n(!0),u(z,null,O(i.value,(g,J)=>B((n(),u("div",{key:J,class:"list-content__item",onClick:Xe=>f(g)},[e("div",Ae,[e("img",{src:r.value,width:"20",height:"24",alt:"消息通知"},null,8,De),g.isRead?h("",!0):(n(),u("div",Re))]),e("div",Ce,[e("div",be,[e("div",{class:"title",title:g.title},p(g.title),9,Ie),e("div",xe,p(g.messageTime),1)]),e("div",{class:"description",title:g.description},p(g.description),9,Ve)])],8,he)),[[P,!g.isDelete]])),128)),ke],64)),l.value?(n(),u("div",Se,Pe)):h("",!0),o.value?(n(),C(fe,{key:3,detailData:a.value,visible:o.value,onConfirm:D,onConfirmDelete:E},null,8,["detailData","visible"])):h("",!0)]))}}),Je=V(Ue,[["__scopeId","data-v-2c3315c5"]]),R=s=>(I("data-v-df8ae2e3"),s=s(),x(),s),Oe={class:"message-info"},Le={class:"message-info__scroll-content"},Me={class:"message-info__tab"},Ne={class:"un-read"},Te={class:"message-info__header-action"},Fe=R(()=>e("img",{src:j,width:"12",height:"12"},null,-1)),Ge=R(()=>e("span",{style:{"margin-left":"2px"}},"删除已读",-1)),Ke=[Fe,Ge],Qe=R(()=>e("div",{style:{margin:"0 15px"}},"|",-1)),Ze=R(()=>e("img",{src:$,width:"12",height:"12"},null,-1)),je=R(()=>e("span",{style:{"margin-left":"2px"}},"一键已读",-1)),$e=[Ze,je],We=b({__name:"index",setup(s){const c=d(null),m=()=>{c.value&&new Z(c.value,{scrollY:!0,scrollX:!0,click:!0,probeType:3,eventPassthrough:"horizontal"})};M(()=>{setTimeout(()=>{N(()=>m())},1e3)}),T(()=>{});const i=d("announcement"),a=d(!1),o=d(!1),l=d(!1),r=d(!1),_=A(()=>i.value==="announcement"?K:Q),f=()=>{l.value=!l.value},D=()=>{r.value=!r.value};return(E,t)=>(n(),u("div",Oe,[e("div",{class:"message-info__scroll",ref_key:"messageWrapperScroll",ref:c},[e("div",Le,[e("div",Me,[e("div",{class:S(["message-info__tab-pane",{"is-active-tab":i.value==="announcement"}]),onClick:t[0]||(t[0]=()=>i.value="announcement")}," 活动公告 ",2),e("div",{class:S(["message-info__tab-pane",{"is-active-tab":i.value==="order"}]),onClick:t[1]||(t[1]=()=>i.value="order")},[F(" 订单消息 "),B(e("div",Ne,null,512),[[P,i.value==="announcement"]])],2)]),e("div",Te,[e("div",{onClick:t[2]||(t[2]=v=>a.value=!0)},Ke),Qe,e("div",{onClick:t[3]||(t[3]=v=>o.value=!0)},$e)]),G(Je,{messageListData:_.value,messageType:i.value,isDeleteRead:l.value,isAllRead:r.value},null,8,["messageListData","messageType","isDeleteRead","isAllRead"])])],512),a.value?(n(),C(k,{key:0,visible:a.value,title:"是否确认要删除已读通知",confirmText:"确认删除",onCancel:t[4]||(t[4]=v=>a.value=!1),onConfirm:f},null,8,["visible"])):h("",!0),o.value?(n(),C(k,{key:1,visible:o.value,title:"是否确认要一键已读全部通知",confirmText:"全部已读",onCancel:t[5]||(t[5]=v=>o.value=!1),onConfirm:D},null,8,["visible"])):h("",!0)]))}}),et=V(We,[["__scopeId","data-v-df8ae2e3"]]);export{et as default};
